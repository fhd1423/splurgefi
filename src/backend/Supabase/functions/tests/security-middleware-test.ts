function main() {
  const apiUrl = 'http://127.0.0.1:54321/functions/v1/security-middleware';
  const jwtToken =
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0'; // Replace with your JWT token

  const postData = {
    jwt: 'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjZlMTQ3ZDgxLTA0Y2MtNDVjMC1hODQxLTMyYTE2NzRlMDkwMiJ9.eyJraWQiOiI2ZTE0N2Q4MS0wNGNjLTQ1YzAtYTg0MS0zMmExNjc0ZTA5MDIiLCJhdWQiOiJodHRwOi8vbG9jYWxob3N0OjMwMDAiLCJpc3MiOiJhcHAuZHluYW1pY2F1dGguY29tL2E4OTYxYWMyLTJhOTctNDczNS1hMmIyLTI1M2YyNDg1NTU3ZSIsInN1YiI6IjUwMGVhZmNmLTlkZDctNGUzYi04NmY5LTNiNjUzMjQyNDgyMiIsInNpZCI6ImViNTU3NzE2LWNjNzMtNDM4Ni04ZGNjLTI2OWEyMDY5ZTZmZSIsImFsaWFzIjoiIiwiZW1haWwiOiIiLCJlbnZpcm9ubWVudF9pZCI6ImE4OTYxYWMyLTJhOTctNDczNS1hMmIyLTI1M2YyNDg1NTU3ZSIsImxpc3RzIjpbXSwibWlzc2luZ19maWVsZHMiOltdLCJzY29wZSI6IiIsInZlcmlmaWVkX2NyZWRlbnRpYWxzIjpbeyJhZGRyZXNzIjoiMHhCYjZBZWFCZGY2MUNhOTZlODBBYTIzOWJBOGNDN2U0MzY4NjJFNTk2IiwiY2hhaW4iOiJlaXAxNTUiLCJpZCI6Ijk0Y2UwOGM1LTc0MmQtNGFhMy05MjVmLWI4YWZjOWU5YjU1MyIsIm5hbWVfc2VydmljZSI6e30sInB1YmxpY19pZGVudGlmaWVyIjoiMHhCYjZBZWFCZGY2MUNhOTZlODBBYTIzOWJBOGNDN2U0MzY4NjJFNTk2Iiwid2FsbGV0X25hbWUiOiJyYWJieSIsIndhbGxldF9wcm92aWRlciI6ImJyb3dzZXJFeHRlbnNpb24iLCJmb3JtYXQiOiJibG9ja2NoYWluIn0seyJpZCI6IjVkMWRhZmJiLTA2ZmQtNGE3YS05ZjEyLTc1YjMxMmUxMjExMyIsInB1YmxpY19pZGVudGlmaWVyIjoiZmhkIiwiZm9ybWF0Ijoib2F1dGgiLCJvYXV0aF9wcm92aWRlciI6InR3aXR0ZXIiLCJvYXV0aF91c2VybmFtZSI6IjB4ZmhkXyIsIm9hdXRoX2Rpc3BsYXlfbmFtZSI6ImZoZCIsIm9hdXRoX2FjY291bnRfaWQiOiIxNDk3Njc3NzYzOTYwMDkwNjI1Iiwib2F1dGhfYWNjb3VudF9waG90b3MiOlsiaHR0cHM6Ly9wYnMudHdpbWcuY29tL3Byb2ZpbGVfaW1hZ2VzLzE2NjUzODc0ODg2NjIyNDUzNzYvOFdZRDVFckNfbm9ybWFsLmpwZyJdLCJvYXV0aF9lbWFpbHMiOltdLCJvYXV0aF9tZXRhZGF0YSI6eyJwcm92aWRlciI6InR3aXR0ZXIiLCJpZCI6IjE0OTc2Nzc3NjM5NjAwOTA2MjUiLCJ1c2VybmFtZSI6IjB4ZmhkXyIsImRpc3BsYXlOYW1lIjoiZmhkIiwicHJvZmlsZVVybCI6Imh0dHBzOi8vdC5jby9PZ215N2J6dlpzIiwicGhvdG9zIjpbeyJ2YWx1ZSI6Imh0dHBzOi8vcGJzLnR3aW1nLmNvbS9wcm9maWxlX2ltYWdlcy8xNjY1Mzg3NDg4NjYyMjQ1Mzc2LzhXWUQ1RXJDX25vcm1hbC5qcGcifV0sIl9yYXciOiJ7XCJkYXRhXCI6e1widXJsXCI6XCJodHRwczovL3QuY28vT2dteTdienZac1wiLFwiaWRcIjpcIjE0OTc2Nzc3NjM5NjAwOTA2MjVcIixcInByb2ZpbGVfaW1hZ2VfdXJsXCI6XCJodHRwczovL3Bicy50d2ltZy5jb20vcHJvZmlsZV9pbWFnZXMvMTY2NTM4NzQ4ODY2MjI0NTM3Ni84V1lENUVyQ19ub3JtYWwuanBnXCIsXCJ1c2VybmFtZVwiOlwiMHhmaGRfXCIsXCJuYW1lXCI6XCJmaGRcIn19IiwiX2pzb24iOnsidXJsIjoiaHR0cHM6Ly90LmNvL09nbXk3Ynp2WnMiLCJpZCI6IjE0OTc2Nzc3NjM5NjAwOTA2MjUiLCJwcm9maWxlX2ltYWdlX3VybCI6Imh0dHBzOi8vcGJzLnR3aW1nLmNvbS9wcm9maWxlX2ltYWdlcy8xNjY1Mzg3NDg4NjYyMjQ1Mzc2LzhXWUQ1RXJDX25vcm1hbC5qcGciLCJ1c2VybmFtZSI6IjB4ZmhkXyIsIm5hbWUiOiJmaGQifX0sImVtYmVkZGVkX3dhbGxldF9pZCI6bnVsbH1dLCJsYXN0X3ZlcmlmaWVkX2NyZWRlbnRpYWxfaWQiOiI5NGNlMDhjNS03NDJkLTRhYTMtOTI1Zi1iOGFmYzllOWI1NTMiLCJmaXJzdF92aXNpdCI6IjIwMjMtMTEtMDRUMjE6NDY6NDcuODg4WiIsImxhc3RfdmlzaXQiOiIyMDIzLTEyLTIxVDE3OjI5OjE4LjA1MVoiLCJuZXdfdXNlciI6ZmFsc2UsImlhdCI6MTcwMzE3OTc1OCwiZXhwIjoxNzAzMTg2OTU4fQ.bDGb7Qi_VRFfFF4d-6J5roxdswtZFHgJIpnCHe4INviUUXxvz9vrcDYcHPkjI8mTG8SsoAfio53KmNLJdRvZP8ieb9r72cOsOLm0DItswkdHRt1iNu1JrttXK3yJvYRXIb8aGfMsYJuq4SAVFGmS6G6ETv6uE1I73eHKx8nSCr4Yul8MnS6W9R-Ggs-rDOqAEH1JNs4SVPdAR4r_LU7U0-7LNI-QWSiGgfGtGE370WsczZKpyhGwnDn6_gebDFzseEkFZsiQv2vOJX0NhKF1IOwFbXv_gKL8-HLqB_IVB7bpl5Sn8MrmH7lKWWbz5ToZZsCaMIu9TZzJ93ujqS0bBdSuGuFLMH6GX73ZiGNKd0LpY8A79VFu6iWYuNkt_21N3JCXrKkOU5P-NWIdNcvAgg7ebaBXIuHSE3oGeCM1EBaOj65I48nmKnMd-gBryu0lwdbgLVRVhsuh0LzbAP0soFsslgQMKtjD2-h99qvQVMvHp8atFLr4ZenHEBtj0BoV0Lxp3VtUD3-J6nbIMR94kfhJ7TDWZZ8XlLK-2XJKyZ9lrLe8qe1wy2qHkKpAUckDewZtoTiRu5veByqat_7Sft1m7iPvwfP2ZUBHoHBwDaxIQS5aMVq8RVZfXxi18xW_KeuzBMcXX5Li08LSxAjPE7Hj-TPWbDv0fKiC5Kgg8sk',
  };

  (async () => {
    try {
      const response = await fetch(apiUrl, {
        method: 'POST',
        headers: {
          Authorization: `Bearer ${jwtToken}`,
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ jwt: postData.jwt }),
      });

      const resultText = await response.text();
      console.log('Server Response:', resultText);

      const result = await response.json();
      console.log(result);
    } catch (error) {
      console.error('Error:', error.message || error);
    }
  })();
}

main();
